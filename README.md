# 班级财务管理系统 (CFMS)
具有图形界面的完善且安全的班级财务管理系统。

## 主要特性

* 简洁方便的图形化界面；
* 采用 SQLite 数据库存储数据；
* 支持数据库导出为 `.csv` 表格；
* 强大的数据排序、筛选、模糊搜索功能；
* 自动分析数据及生成多种统计图表；
* 用户系统，通过密码和不同的用户角色设计保障数据安全；
* 日志系统，记录所有敏感操作，并具有日志防篡改特性；
* 软件配置信息采用 AES 加密，保护敏感信息；

## 软件使用说明

以下说明旨在帮助用户安装并快速开始使用本软件。

### 安装要求

* 一台安装有 Windows 系统的 PC，推荐 Windows 7 及以上版本（Windows XP 未经测试）；

### 安装方法

1. 从 Release 页面下载预编译的版本：已嵌入依赖文件的 `.exe` 文件（推荐），或自行编译源代码；
2. 双击运行 `.exe` 文件即可使用软件。

### 使用入门

> 各模块的详细介绍请参见 [Wiki](https://github.com/Nativu5/CFMS) 页面。

1. 初次打开软件会提示新建用户，单击登录页面的注册按钮以注册新用户。
   * 第一位用户将自动被赋予超级管理员权限。
   * 用户名和密码应仅包含 26 个英文字母的大小写、阿拉伯数字、下划线 (`_`) 和减号 (`-`)，且用户名为 3 - 10 位，密码为 6 - 16 位；
   
2. 输入用户名和密码登录；
3. 软件主窗口左上角 “文件” 菜单可以新建、打开、保存数据库以及将数据库导出为 `.csv` 文件；
4. 打开数据库后，单击 ”数据“ 选项卡查看数据，并可通过 “编辑”、“搜索” 选项卡修改表格中的财务记录以及搜索、排序表格中数据；

   * 表格支持 `Ctrl` 键多选，方便批量删除；

   * 搜索、排序、筛选器可同时应用于表格，得到更精确的显示结果；
5. 当数据库中的有效记录充足时，可以单击分析选项卡，通过 “概览” 查看某些统计数据，并可切换至 “图表” 页面生成不同类型和不同主题的统计图；

   * 在搜索选项卡中设置过条件后，统计图表将根据筛选后的结果生成；
6. 此外，单击工具栏上的 “操作记录” 按钮选项查看软件安装以来的操作记录；单击 “用户” 按钮显示用户权限管理页面，按下回车查询用户权限，或点击按钮更改已有用户的权限。

### 卸载方法

直接删除本软件及其释出的 `config.dat`（加密后的软件配置信息）、`journal.log` （软件操作日志记录）即可。

## 源代码使用说明

以下说明旨在帮助用户应用本项目的源代码并进行进一步的开发。

### 开发环境

[Qt 5.14.1](https://www.qt.io/download-open-source) 或更高版本。

### 使用方法


1. 直接下载源代码，或：
```bash
git clone https://github.com/Nativu5/CFMS.git
```

2. 使用 Qt 打开 `CFMS.pro` 根据本机环境调整编译选项即可。

 ### Release 说明

本项目的 Release 版本为使用 windeployqt 和 Enigma Virtual Box 打包后的单文件可执行文件。 

## 使用到的开源项目

[Qt Project](https://code.qt.io/) - Qt 开源版；

[Qt-AES](https://github.com/bricke/Qt-AES) - Qt AES加密类；

[Linea-Iconset](https://github.com/linea-io/Linea-Iconset) - 软件使用的图标来源。

## 版权说明

该项目依照 Qt 开源版的使用协议，按 [GNU General Public License v3.0](https://www.gnu.org/licenses/gpl-3.0.html) 开源，详情请参阅 `LICENSE` 文件。

